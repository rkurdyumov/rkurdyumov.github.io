<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>switch.c</title>
<link rel="stylesheet" type="text/css" href="highlight.css">
</head>
<body class="hl">
<pre class="hl"><span class="hl com">/**************************************************************************</span>
<span class="hl com"></span>
<span class="hl com">Switch Module</span>
<span class="hl com"></span>
<span class="hl com">Color: P4</span>
<span class="hl com">Overtime: P3</span>
<span class="hl com">Full Court: P1</span>
<span class="hl com"></span>
<span class="hl com">**************************************************************************/</span>

<span class="hl com">/*---------------------------- Include Files ----------------------------*/</span>
<span class="hl dir">#include &lt;stdio.h&gt;</span>
<span class="hl dir">#include &lt;timers12.h&gt;</span>
<span class="hl dir">#include</span> <span class="hl dstr">&quot;PWM.h&quot;</span><span class="hl dir"></span>
<span class="hl dir">#include</span> <span class="hl dstr">&quot;ADS12.h&quot;</span><span class="hl dir"></span>
<span class="hl dir">#include</span> <span class="hl dstr">&quot;game.h&quot;</span><span class="hl dir"></span>

<span class="hl dir">#include</span> <span class="hl dstr">&quot;switch.h&quot;</span><span class="hl dir"></span>


<span class="hl com">/*--------------------------- Module Defines ----------------------------*/</span>
<span class="hl com">/*---------------------------- Module Types -----------------------------*/</span>
<span class="hl com">/*-------------------------- Module Variables ---------------------------*/</span>
<span class="hl com">/*-------------------------- Module Functions ---------------------------*/</span>
<span class="hl com">/*----------------------------- Module Code -----------------------------*/</span>

<span class="hl kwb">void</span> <span class="hl kwd">InitSwitch</span><span class="hl sym">(</span><span class="hl kwb">void</span><span class="hl sym">) {</span>

	DDRP <span class="hl sym">&amp;= (</span>BIT4LO <span class="hl sym">|</span> BIT3LO <span class="hl sym">|</span> BIT1LO<span class="hl sym">);</span>
<span class="hl sym">}</span>

team_t <span class="hl kwd">ReturnColor</span><span class="hl sym">(</span><span class="hl kwb">void</span><span class="hl sym">) {</span>

	<span class="hl kwa">if</span><span class="hl sym">((</span>PTP <span class="hl sym">&amp;</span> BIT4HI<span class="hl sym">) ==</span> BIT4HI<span class="hl sym">)</span>
		<span class="hl kwa">return</span> GREEN_TEAM<span class="hl sym">;</span>
	<span class="hl kwa">else</span>
		<span class="hl kwa">return</span> RED_TEAM<span class="hl sym">;</span>
<span class="hl sym">}</span>

<span class="hl kwb">unsigned char</span> <span class="hl kwd">ReturnOvertime</span><span class="hl sym">(</span><span class="hl kwb">void</span><span class="hl sym">) {</span>
	<span class="hl kwa">if</span><span class="hl sym">((</span>PTP <span class="hl sym">&amp;</span> BIT3HI<span class="hl sym">) ==</span> BIT3HI<span class="hl sym">)</span>
		<span class="hl kwa">return</span> <span class="hl num">1</span><span class="hl sym">;</span>
	<span class="hl kwa">else</span>
		<span class="hl kwa">return</span> <span class="hl num">0</span><span class="hl sym">;</span>
<span class="hl sym">}</span>

<span class="hl kwb">unsigned char</span> <span class="hl kwd">ReturnCourt</span><span class="hl sym">(</span><span class="hl kwb">void</span><span class="hl sym">) {</span>
	<span class="hl kwa">if</span><span class="hl sym">((</span>PTP <span class="hl sym">&amp;</span> BIT1HI<span class="hl sym">) ==</span> BIT1HI<span class="hl sym">)</span>
		<span class="hl kwa">return</span> <span class="hl num">1</span><span class="hl sym">;</span>
	<span class="hl kwa">else</span>
		<span class="hl kwa">return</span> <span class="hl num">0</span><span class="hl sym">;</span>
<span class="hl sym">}</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 2.13, http://www.andre-simon.de/-->
